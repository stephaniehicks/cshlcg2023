<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Course material (lectures and workshops) from Stephanie Hicks">

<title>CSHL Computational Genomics 2023 - 2&nbsp; Reproducible Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./exercises-02.html" rel="next">
<link href="./exercises-01.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./reproducible-res.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reproducible Research</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">CSHL Computational Genomics 2023</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-to-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercises-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Group work</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reproducible-res.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reproducible Research</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercises-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Group work</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidyverse and data viz</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercises-03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Workshop</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-to-bioc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Bioconductor</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-to-single-cell.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Overview of single-cell analysis in R/Bioconductor</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercises-04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Workshop</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link active" data-scroll-target="#acknowledgements"><span class="header-section-number">2.1</span> Acknowledgements</a></li>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives"><span class="header-section-number">2.2</span> Learning objectives</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">2.3</span> Introduction</a>
  <ul class="collapse">
  <li><a href="#what-is-wrong-with-replication" id="toc-what-is-wrong-with-replication" class="nav-link" data-scroll-target="#what-is-wrong-with-replication"><span class="header-section-number">2.3.1</span> What is wrong with replication?</a></li>
  </ul></li>
  <li><a href="#reproducibility-to-the-rescue" id="toc-reproducibility-to-the-rescue" class="nav-link" data-scroll-target="#reproducibility-to-the-rescue"><span class="header-section-number">2.4</span> Reproducibility to the Rescue</a>
  <ul class="collapse">
  <li><a href="#why-does-this-matter" id="toc-why-does-this-matter" class="nav-link" data-scroll-target="#why-does-this-matter"><span class="header-section-number">2.4.1</span> Why does this matter?</a></li>
  <li><a href="#types-of-reproducibility" id="toc-types-of-reproducibility" class="nav-link" data-scroll-target="#types-of-reproducibility"><span class="header-section-number">2.4.2</span> Types of reproducibility</a></li>
  <li><a href="#elements-of-computational-reproducibility" id="toc-elements-of-computational-reproducibility" class="nav-link" data-scroll-target="#elements-of-computational-reproducibility"><span class="header-section-number">2.4.3</span> Elements of computational reproducibility</a></li>
  </ul></li>
  <li><a href="#x-to-computational-x" id="toc-x-to-computational-x" class="nav-link" data-scroll-target="#x-to-computational-x"><span class="header-section-number">2.5</span> ‚ÄúX‚Äù to ‚ÄúComputational X‚Äù</a></li>
  <li><a href="#literate-programming" id="toc-literate-programming" class="nav-link" data-scroll-target="#literate-programming"><span class="header-section-number">2.6</span> Literate programming</a>
  <ul class="collapse">
  <li><a href="#weaving-and-tangling" id="toc-weaving-and-tangling" class="nav-link" data-scroll-target="#weaving-and-tangling"><span class="header-section-number">2.6.1</span> Weaving and Tangling</a></li>
  <li><a href="#rmarkdown" id="toc-rmarkdown" class="nav-link" data-scroll-target="#rmarkdown"><span class="header-section-number">2.6.2</span> rmarkdown</a></li>
  <li><a href="#knitr" id="toc-knitr" class="nav-link" data-scroll-target="#knitr"><span class="header-section-number">2.6.3</span> knitr</a></li>
  </ul></li>
  <li><a href="#create-and-knit-your-first-r-markdown-document" id="toc-create-and-knit-your-first-r-markdown-document" class="nav-link" data-scroll-target="#create-and-knit-your-first-r-markdown-document"><span class="header-section-number">2.7</span> Create and Knit Your First R Markdown Document</a></li>
  <li><a href="#tips-and-tricks-in-r-markdown-in-rstudio" id="toc-tips-and-tricks-in-r-markdown-in-rstudio" class="nav-link" data-scroll-target="#tips-and-tricks-in-r-markdown-in-rstudio"><span class="header-section-number">2.8</span> Tips and tricks in R Markdown in RStudio</a>
  <ul class="collapse">
  <li><a href="#run-code" id="toc-run-code" class="nav-link" data-scroll-target="#run-code"><span class="header-section-number">2.8.1</span> Run code</a></li>
  <li><a href="#insert-a-comment-in-r-and-r-markdown" id="toc-insert-a-comment-in-r-and-r-markdown" class="nav-link" data-scroll-target="#insert-a-comment-in-r-and-r-markdown"><span class="header-section-number">2.8.2</span> Insert a comment in R and R Markdown</a></li>
  <li><a href="#knit-a-r-markdown-document" id="toc-knit-a-r-markdown-document" class="nav-link" data-scroll-target="#knit-a-r-markdown-document"><span class="header-section-number">2.8.3</span> Knit a R Markdown document</a></li>
  <li><a href="#code-snippets" id="toc-code-snippets" class="nav-link" data-scroll-target="#code-snippets"><span class="header-section-number">2.8.4</span> Code snippets</a></li>
  <li><a href="#ordered-list-in-r-markdown" id="toc-ordered-list-in-r-markdown" class="nav-link" data-scroll-target="#ordered-list-in-r-markdown"><span class="header-section-number">2.8.5</span> Ordered list in R Markdown</a></li>
  <li><a href="#new-code-chunk-in-r-markdown" id="toc-new-code-chunk-in-r-markdown" class="nav-link" data-scroll-target="#new-code-chunk-in-r-markdown"><span class="header-section-number">2.8.6</span> New code chunk in R Markdown</a></li>
  <li><a href="#reformat-code" id="toc-reformat-code" class="nav-link" data-scroll-target="#reformat-code"><span class="header-section-number">2.8.7</span> Reformat code</a></li>
  <li><a href="#rstudio-addins" id="toc-rstudio-addins" class="nav-link" data-scroll-target="#rstudio-addins"><span class="header-section-number">2.8.8</span> RStudio addins</a></li>
  <li><a href="#others" id="toc-others" class="nav-link" data-scroll-target="#others"><span class="header-section-number">2.8.9</span> Others</a></li>
  </ul></li>
  <li><a href="#session-info" id="toc-session-info" class="nav-link" data-scroll-target="#session-info"><span class="header-section-number">2.9</span> Session Info</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reproducible Research</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<blockquote class="blockquote">
<p>An article about computational results is advertising, not scholarship. The actual scholarship is the full software environment, code and data, that produced the result. ‚Äî<em>Claerbout and Karrenbach (1992)</em></p>
</blockquote>
<p>[<a href="http://sepwww.stanford.edu/doku.php?id=sep:research:reproducible:seg92">Link to Claerbout and Karrenbach (1992) article</a>]</p>
<blockquote class="blockquote">
<p>‚ÄúWhen writing code, you‚Äôre always collaborating with future-you; and past-you doesn‚Äôt respond to emails‚Äù. ‚Äî<em>Hadley Wickham</em></p>
</blockquote>
<p>[<a href="https://fivebooks.com/best-books/computer-science-data-science-hadley-wickham/">Source</a>]</p>
<section id="acknowledgements" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="acknowledgements"><span class="header-section-number">2.1</span> Acknowledgements</h2>
<p>Material for this chapter was borrowed and adopted from</p>
<ul>
<li><a href="https://rdpeng.github.io/Biostat776/lecture-literate-statistical-programming.html" class="uri">https://rdpeng.github.io/Biostat776/lecture-literate-statistical-programming.html</a></li>
<li><a href="https://statsandr.com/blog/tips-and-tricks-in-rstudio-and-r-markdown" class="uri">https://statsandr.com/blog/tips-and-tricks-in-rstudio-and-r-markdown</a></li>
<li><a href="https://ropensci.github.io/reproducibility-guide/sections/introduction" class="uri">https://ropensci.github.io/reproducibility-guide/sections/introduction</a></li>
<li><a href="https://rdpeng.github.io/Biostat776" class="uri">https://rdpeng.github.io/Biostat776</a></li>
<li><a href="https://www.annualreviews.org/doi/abs/10.1146/annurev-publhealth-012420-105110">Reproducible Research: A Retrospective</a> by Roger Peng and Stephanie Hicks</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Additional Resources
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="https://indrajeetpatil.github.io/RmarkdownTips/">RMarkdown Tips and Tricks</a> by Indrajeet Patil</li>
<li><a href="https://bookdown.org/yihui/rmarkdown" class="uri">https://bookdown.org/yihui/rmarkdown</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook</a></li>
</ul>
</div>
</div>
</section>
<section id="learning-objectives" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">2.2</span> Learning objectives</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Know the difference between replication and reproducibility</li>
<li>Identify valid reasons why replication and/or reproducibility is not always possible</li>
<li>Identify key components to enable reproducible data analyses</li>
<li>Be able to define literate programming</li>
<li>Recognize differences between available tools to for literate programming</li>
<li>Know how to efficiently work within RStudio for efficient literate programming</li>
<li>Create a R Markdown document</li>
</ul>
</div>
</div>
</section>
<section id="introduction" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="introduction"><span class="header-section-number">2.3</span> Introduction</h2>
<p>This chapter will be about <strong>reproducible reporting</strong>, and I want to take the opportunity to cover some basic concepts and ideas that are related to reproducible reporting, just in case you have not heard about it or do not know what it is.</p>
<p>Before we get to <strong>reproducibility</strong>, we need to cover a little background with respect to how science works (even if you are not a scientist, this is important).</p>
<p>The ultimate standard in strengthening scientific evidence is <strong>replication</strong>. Assume you claim that X causes Y, or that Vitamin C improves disease. The goal of replication is to <strong>have independent people to do independent things with different data, different methods, and different laboratories and see if they get the same result</strong>.</p>
<p>There is a sense that if a relationship in nature is truly there, then it should be robust to having different people discover it in different ways. Replication is particularly important in areas where findings can have big policy impacts or can influence regulatory types of decisions.</p>
<section id="what-is-wrong-with-replication" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="what-is-wrong-with-replication"><span class="header-section-number">2.3.1</span> What is wrong with replication?</h3>
<p>There is really nothing wrong with it. This is what science has been doing for a long time, through hundreds of years. And there is nothing wrong with it today.</p>
<p>But the problem is that it is <strong>becoming more and more challenging to do replication</strong> or to replicate other studies.</p>
<p>Here are some reasons:</p>
<ol type="1">
<li>Often times studies are <strong>much larger and more costly</strong> than previously. If you want to do ten versions of the same study, you need ten times as much money and there is not as much money around as there used to be.</li>
<li>Sometimes it is difficult to replicate a study because <strong>if the original study took 20 years to complete</strong>, it is difficult to wait around another 20 years for replication.</li>
<li>Some studies are just plain <strong>unique</strong>, such as studying the impact of a massive earthquake in a very specific location and time. If you are looking at a unique situation in time or a unique population, you cannot readily replicate that situation.</li>
</ol>
<p>There are a lot of good reasons why you cannot replicate a study. If you cannot replicate a study, <strong>is the alternative just to do nothing</strong> (?? üò±), just let that study stand by itself?</p>
<p>The idea behind a reproducible reporting is to create a kind of <strong>minimum standard</strong> (or a middle ground) where we will not be replicating a study, but maybe we can <strong>do something in between</strong>. What can we do that‚Äôs in between the gold standard and doing nothing?</p>
<p>That is where reproducibility comes in. That‚Äôs how we can kind of <strong>bridge the gap between replication and nothing</strong>.</p>
<p>In non-research settings, often full replication is not even the point. Often the goal is to preserve something to the point where anybody in an organization can repeat what you did (for example, after you leave the organization).</p>
<ul>
<li>In this case, reproducibility is key to maintaining the history of a project and making sure that every step along the way is clear.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Summary
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Replication, whereby scientific questions are examined and verified independently by different scientists, is the gold standard for scientific validity.</li>
<li>Replication can be difficult and often there are no resources to independently replicate a study.</li>
<li>Reproducibility, whereby data and code are re-analyzed by independent scientists to obtain the same results of the original investigator, is a reasonable minimum standard when replication is not possible.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="reproducibility-to-the-rescue" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="reproducibility-to-the-rescue"><span class="header-section-number">2.4</span> Reproducibility to the Rescue</h2>
<p>Let‚Äôs first define reproducibility. The basic idea is that you need to make the <strong>data</strong> available for the original study and the <strong>computational methods</strong> available so that other people can look at your data and run the kind of analysis that you have run, and come to the same findings that you found.</p>
<p>What reproducible reporting is about is a <strong>validation of the data analysis (not the original question itself)</strong>. Because you are not collecting independent data using independent methods, it is a little bit more difficult to validate the scientific question itself. But if you can take someone‚Äôs data and reproduce their findings, then you can, in some sense, validate the data analysis.</p>
<p>In this way, you can at least have <strong>confidence that you can reproduce the analysis</strong>.</p>
<p>Recently, there has been a lot of discussion of reproducibility in the media and in the scientific literature. For example, he journal <em>Science</em> had a special issue on reproducibility and data replication.</p>
<ul>
<li><a href="https://www.science.org/toc/science/334/6060" class="uri">https://www.science.org/toc/science/334/6060</a></li>
</ul>
<section id="why-does-this-matter" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="why-does-this-matter"><span class="header-section-number">2.4.1</span> Why does this matter?</h3>
<p>Here is an example. In 2012, a feature on the TV show 60 minutes looked at a major incident at Duke University where many results involving a promising cancer test were found to be not reproducible. This led to a number of studies and clinical trials having to be stopped, followed by an investigation which is still ongoing.</p>
<p align="center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/W5sZTNPMQRM" frameborder="0" allowfullscreen="">
</iframe>
</p>
<p>[<a href="https://www.youtube.com/watch?v=W5sZTNPMQRM">Source</a> on YouTube]</p>
</section>
<section id="types-of-reproducibility" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="types-of-reproducibility"><span class="header-section-number">2.4.2</span> Types of reproducibility</h3>
<p><strong>What are the different kinds of reproducible research?</strong> Enabling reproducibility can be complicated, but by separating out some of the levels and degrees of reproducibility the problem can become more manageable because we can focus our efforts on what best suits our specific scientific domain. <a href="https://www.edge.org/response-detail/25340">Victoria Stodden (2014)</a>, a prominent scholar on this topic, has identified some useful distinctions in reproducible research:</p>
<ul>
<li><strong>Computational reproducibility</strong>: when detailed information is provided about code, software, hardware and implementation details.</li>
<li><strong>Empirical reproducibility</strong>: when detailed information is provided about non-computational empirical scientific experiments and observations. In practice this is enabled by making data freely available, as well as details of how the data was collected.</li>
<li><strong>Statistical reproducibility</strong>: when detailed information is provided about the choice of statistical tests, model parameters, threshold values, etc. This mostly relates to pre-registration of study design to prevent <em>p</em>-value hacking and other manipulations.</li>
</ul>
<p>[<a href="https://ropensci.github.io/reproducibility-guide/sections/introduction/">Source</a>]</p>
</section>
<section id="elements-of-computational-reproducibility" class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="elements-of-computational-reproducibility"><span class="header-section-number">2.4.3</span> Elements of computational reproducibility</h3>
<p>What do we need for computational reproducibility? There are a variety of ways to talk about this, but one basic definition that we hae come up with is that there are four things that are required to make results reproducible:</p>
<ol type="1">
<li><strong>Analytic data</strong>. The data that were used for the analysis that was presented should be available for others to access. This is different from the <em>raw data</em> because very often in a data analysis the raw data are not all used for the analysis, but rather some subset is used. It may be interesting to see the raw data but impractical to actually have it. Analytic data is key to examining the data analysis.</li>
<li><strong>Analytic code</strong>. The analytic code is the code that was applied to the analytic data to produce the key results. This may be preprocessing code, regression modeling code, or really any other code used to produce the results from the analytic data.</li>
<li><strong>Documentation</strong>. Documentation of that code and the data is very important.</li>
<li><strong>Distribution</strong>. Finally, there needs to be some standard means of distribution, so all this data in the code is easily accessible.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Summary
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Reproducible reporting is about is a validation of the data analysis</li>
<li>There are multiple types of reproducibility</li>
<li>There are four elements to computational reproducibility</li>
</ul>
</div>
</div>
</section>
</section>
<section id="x-to-computational-x" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="x-to-computational-x"><span class="header-section-number">2.5</span> ‚ÄúX‚Äù to ‚ÄúComputational X‚Äù</h2>
<p>What is driving this need for a ‚Äúreproducibility middle ground‚Äù between replication and doing nothing?</p>
<p>For starters, there are <strong>a lot of new technologies on the scene</strong> and in many different fields of study including, biology, chemistry and environmental science. These <strong>technologies allow us to collect data at a much higher throughput</strong> so we end up with these very complex and very high dimensional data sets.</p>
<p>These <strong>datasets can be collected almost instantaneously</strong> compared to even just ten years ago‚Äîthe technology has allowed us to create huge data sets at essentially the touch of a button. Furthermore, we the computing power to take existing (already huge) databases and merge them into even bigger and bigger databases. Finally, the <strong>massive increase in computing power</strong> has allowed us to implement more sophisticated and complex analysis routines.</p>
<p>The analyses themselves, the models that we fit and <strong>the algorithms that we run, are much much more complicated</strong> than they used to be. Having a basic understanding of these algorithms is difficult, even for a sophisticated person, and it is almost impossible to describe these algorithms with words alone.</p>
<p>Understanding what someone did in a data analysis now <strong>requires looking at code and scrutinizing the computer programs</strong> that people used.</p>
<p>The bottom line with all these different trends is that for every field ‚ÄúX‚Äù, there is now ‚ÄúComputational X‚Äù. There‚Äôs computational biology, computational astronomy‚Äîwhatever it is you want, there is a computational version of it.</p>
</section>
<section id="literate-programming" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="literate-programming"><span class="header-section-number">2.6</span> Literate programming</h2>
<p>One basic idea to make writing reproducible reports easier is what‚Äôs known as <em>literate statistical programming</em> (or sometimes called <a href="http://www.r-project.org/conferences/DSC-2001/Proceedings/Rossini.pdf">literate statistical practice</a>). This comes from the idea of <a href="https://en.wikipedia.org/wiki/Literate_programming">literate programming</a> in the area of writing computer programs.</p>
<p>The idea is to <strong>think of a report or a publication as a stream of text and code</strong>.</p>
<ul>
<li>The text is readable by people and the code is readable by computers.</li>
<li>The analysis is described in a series of text and code chunks.</li>
<li>Each kind of code chunk will do something like load some data or compute some results.</li>
<li>Each text chunk will relay something in a human readable language.</li>
</ul>
<p>There might also be <strong>presentation code</strong> that formats tables and figures and there‚Äôs article text that explains what‚Äôs going on around all this code. This stream of text and code is a literate statistical program or a literate statistical analysis.</p>
<section id="weaving-and-tangling" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="weaving-and-tangling"><span class="header-section-number">2.6.1</span> Weaving and Tangling</h3>
<p>Literate programs by themselves are a bit difficult to work with, but they can be processed in two important ways.</p>
<p>Literate programs can be <strong>weaved</strong> to produce human readable documents like PDFs or HTML web pages, and they can <strong>tangled</strong> to produce machine-readable ‚Äúdocuments‚Äù, or in other words, machine readable code.</p>
<p>The basic idea behind literate programming in order to generate the different kinds of output you might need, <strong>you only need a single source document</strong>‚Äîyou can weave and tangle to get the rest.</p>
<p>In order to use a system like this you need a documentational language, that‚Äôs human readable, and you need a programming language that‚Äôs machine readable (or can be compiled/interpreted into something that‚Äôs machine readable).</p>
</section>
<section id="rmarkdown" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="rmarkdown"><span class="header-section-number">2.6.2</span> rmarkdown</h3>
<p>A common choice for literate programming with R code is to build documents based on <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> language. A markdown file is a plain text file that is typically given the extension <code>.md.</code>. The <a href="https://CRAN.R-project.org/package=rmarkdown"><code>rmarkdown</code></a> R package takes a R Markdown file (<code>.Rmd</code>) and weaves together R code chunks like this:</p>
<pre><code>```{r plot1, height=4, width=5, eval=FALSE, echo=TRUE}
data(airquality)
plot(airquality$Ozone ~ airquality$Wind)
```</code></pre>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The best resource for learning about R Markdown this by Yihui Xie, J. J. Allaire, and Garrett Grolemund:</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown" class="uri">https://bookdown.org/yihui/rmarkdown</a></li>
</ul>
<p>The R Markdown Cookbook by Yihui Xie, Christophe Dervieux, and Emily Riederer is really good too:</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook</a></li>
</ul>
<p>The authors of the 2nd book describe the motivation for the 2nd book as:</p>
<blockquote class="blockquote">
<p>‚ÄúHowever, we have received comments from our readers and publisher that it would be beneficial to provide more practical and relatively short examples to show the interesting and useful usage of R Markdown, because it can be daunting to find out how to achieve a certain task from the aforementioned reference book (put another way, that book is too dry to read). As a result, this cookbook was born.‚Äù</p>
</blockquote>
</div>
</div>
<p>Because this is chapter is built in a <code>.qmd</code> file (which is very similar to a <code>.Rmd</code> file), let‚Äôs demonstrate how this work. I am going to change <code>eval=FALSE</code> to <code>eval=TRUE</code>.</p>
<div class="cell" height="4" width="5">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(airquality)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(airquality<span class="sc">$</span>Ozone <span class="sc">~</span> airquality<span class="sc">$</span>Wind)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="reproducible-res_files/figure-html/plot2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Why do we not see the back ticks ``` anymore in the code chunk above that made the plot?</li>
<li>What do you think we should do if we want to have the code executed, but we want to hide the code that made it?</li>
</ol>
</div>
</div>
<p>Before we leave this section, I find that there is quite a bit of terminology to understand the magic behind <code>rmarkdown</code> that can be confusing, so let‚Äôs break it down:</p>
<ul>
<li><a href="https://pandoc.org">Pandoc</a>. Pandoc is a command line tool with no GUI that converts documents (e.g.&nbsp;from number of different markup formats to many other formats, such as .doc, .pdf etc). It is completely independent from R (but does come bundled with RStudio).</li>
<li><a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> (<strong>markup language</strong>). Markdown is a lightweight <a href="https://en.wikipedia.org/wiki/Markup_language">markup language</a> with plain text formatting syntax designed so that it can be converted to HTML and many other formats. A markdown file is a plain text file that is typically given the extension <code>.md.</code> It is completely independent from R.</li>
<li><a href="https://CRAN.R-project.org/package=markdown"><code>markdown</code></a> (<strong>R package</strong>). <code>markdown</code> is an R package which converts <code>.md</code> files into HTML. It is no longer recommended for use has been surpassed by <a href="https://CRAN.R-project.org/package=rmarkdown"><code>rmarkdown</code></a> (discussed below).</li>
<li>R Markdown (<strong>markup language</strong>). R Markdown is an extension of the markdown syntax. R Markdown files are plain text files that typically have the file extension <code>.Rmd</code>.</li>
<li><a href="https://CRAN.R-project.org/package=rmarkdown"><code>rmarkdown</code></a> (<strong>R package</strong>). The R package <code>rmarkdown</code> is a library that uses pandoc to process and convert <code>.Rmd</code> files into a number of different formats. This core function is <code>rmarkdown::render()</code>. <strong>Note</strong>: this package only deals with the markdown language. If the input file is e.g.&nbsp;<code>.Rhtml</code> or <code>.Rnw</code>, then you need to use <code>knitr</code> prior to calling pandoc (see below).</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Check out the R Markdown Quick Tour for more:</p>
<ul>
<li><a href="https://rmarkdown.rstudio.com/authoring_quick_tour.html" class="uri">https://rmarkdown.rstudio.com/authoring_quick_tour.html</a></li>
</ul>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://github.com/allisonhorst/stats-illustrations/raw/main/rstats-artwork/rmarkdown_rockstar.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption class="figure-caption">Artwork by Allison Horst on RMarkdown</figcaption>
</figure>
</div>
</section>
<section id="knitr" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="knitr"><span class="header-section-number">2.6.3</span> knitr</h3>
<p>One of the alternative that has come up in recent times is something called <code>knitr</code>.</p>
<ul>
<li>The <code>knitr</code> package for R takes a lot of these ideas of literate programming and updates and improves upon them.</li>
<li><code>knitr</code> still uses R as its programming language, but it allows you to mix other programming languages in.</li>
<li>You can also use a variety of documentation languages now, such as LaTeX, markdown and HTML.</li>
<li><code>knitr</code> was developed by Yihui Xie while he was a graduate student at Iowa State and it has become a very popular package for writing literate statistical programs.</li>
</ul>
<p>Knitr takes a plain text document with embedded code, executes the code and ‚Äòknits‚Äô the results back into the document.</p>
<p>For for example, it converts</p>
<ul>
<li>An R Markdown (<code>.Rmd)</code> file into a standard markdown file (<code>.md</code>)</li>
<li>An <code>.Rnw</code> (Sweave) file into to <code>.tex</code> format.</li>
<li>An <code>.Rhtml</code> file into to <code>.html</code>.</li>
</ul>
<p>The core function is <code>knitr::knit()</code> and by default this will look at the input document and try and guess what type it is e.g.&nbsp;<code>Rnw</code>, <code>Rmd</code> etc.</p>
<p>This core function performs three roles:</p>
<ul>
<li>A <strong>source parser</strong>, which looks at the input document and detects which parts are code that the user wants to be evaluated.</li>
<li>A <strong>code evaluator</strong>, which evaluates this code</li>
<li>An <strong>output renderer</strong>, which writes the results of evaluation back to the document in a format which is interpretable by the raw output type. For instance, if the input file is an <code>.Rmd</code>, the output render marks up the output of code evaluation in <code>.md</code> format.</li>
</ul>
<div class="cell" data-layout-align="center" data-preview="true">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://d33wubrfki0l68.cloudfront.net/61d189fd9cdf955058415d3e1b28dd60e1bd7c9b/9791d/images/rmarkdownflow.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption class="figure-caption">Converting a Rmd file to many outputs using knitr and pandoc</figcaption>
</figure>
</div>
</div>
</div>
<p>[<a href="https://rmarkdown.rstudio.com/authoring_quick_tour.html">Source</a>]</p>
<p>As seen in the figure above, from there pandoc is used to convert e.g.&nbsp;a <code>.md</code> file into many other types of file formats into a <code>.html</code>, etc.</p>
<p>So in summary:</p>
<blockquote class="blockquote">
<p>‚ÄúR Markdown stands on the shoulders of knitr and Pandoc. The former executes the computer code embedded in Markdown, and converts R Markdown to Markdown. The latter renders Markdown to the output format you want (such as PDF, HTML, Word, and so on).‚Äù</p>
</blockquote>
<p>[<a href="https://bookdown.org/yihui/rmarkdown/">Source</a>]</p>
</section>
</section>
<section id="create-and-knit-your-first-r-markdown-document" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="create-and-knit-your-first-r-markdown-document"><span class="header-section-number">2.7</span> Create and Knit Your First R Markdown Document</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dY9KNat_vYs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
<p>When creating your first R Markdown document, in RStudio you can</p>
<ol type="1">
<li><p>Go to File &gt; New File &gt; R Markdown‚Ä¶</p></li>
<li><p>Feel free to edit the Title</p></li>
<li><p>Make sure to select ‚ÄúDefault Output Format‚Äù to be HTML</p></li>
<li><p>Click ‚ÄúOK‚Äù. RStudio creates the R Markdown document and places some boilerplate text in there just so you can see how things are setup.</p></li>
<li><p>Click the ‚ÄúKnit‚Äù button (or go to File &gt; Knit Document) to make sure you can create the HTML output</p></li>
</ol>
<p>If you successfully knit your first R Markdown document, then congratulations!</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://media.giphy.com/media/L4ZZNbDpOCfiX8uYSd/giphy.gif" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption class="figure-caption">Mission accomplished!</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="tips-and-tricks-in-r-markdown-in-rstudio" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="tips-and-tricks-in-r-markdown-in-rstudio"><span class="header-section-number">2.8</span> Tips and tricks in R Markdown in RStudio</h2>
<p>Here are shortcuts and tips on efficiently using RStudio to improve how you write code.</p>
<section id="run-code" class="level3" data-number="2.8.1">
<h3 data-number="2.8.1" class="anchored" data-anchor-id="run-code"><span class="header-section-number">2.8.1</span> Run code</h3>
<p>If you want to run a code chunk:</p>
<pre><code>command + Enter on Mac
Ctrl + Enter on Windows</code></pre>
</section>
<section id="insert-a-comment-in-r-and-r-markdown" class="level3" data-number="2.8.2">
<h3 data-number="2.8.2" class="anchored" data-anchor-id="insert-a-comment-in-r-and-r-markdown"><span class="header-section-number">2.8.2</span> Insert a comment in R and R Markdown</h3>
<p>To insert a comment:</p>
<pre><code>command + Shift + C on Mac
Ctrl + Shift + C on Windows</code></pre>
<p>This shortcut can be used both for:</p>
<ul>
<li>R code when you want to comment your code. It will add a <code>#</code> at the beginning of the line</li>
<li>for text in R Markdown. It will add <code>&lt;!--</code> and <code>--&gt;</code> around the text</li>
</ul>
<p>Note that if you want to comment more than one line, select all the lines you want to comment then use the shortcut. If you want to uncomment a comment, apply the same shortcut.</p>
</section>
<section id="knit-a-r-markdown-document" class="level3" data-number="2.8.3">
<h3 data-number="2.8.3" class="anchored" data-anchor-id="knit-a-r-markdown-document"><span class="header-section-number">2.8.3</span> Knit a R Markdown document</h3>
<p>You can knit R Markdown documents by using this shortcut:</p>
<pre><code>command + Shift + K on Mac
Ctrl + Shift + K on Windows</code></pre>
</section>
<section id="code-snippets" class="level3" data-number="2.8.4">
<h3 data-number="2.8.4" class="anchored" data-anchor-id="code-snippets"><span class="header-section-number">2.8.4</span> Code snippets</h3>
<p>Code snippets is usually a few characters long and is used as a shortcut to insert a common piece of code. You simply type a few characters then press <code>Tab</code> and it will complete your code with a larger code. <code>Tab</code> is then used again to navigate through the code where customization is required. For instance, if you type <code>fun</code> then press <code>Tab</code>, it will auto-complete the code with the required code to create a function:</p>
<pre><code>name &lt;- function(variables) {
  
}</code></pre>
<p>Pressing <code>Tab</code> again will jump through the placeholders for you to edit it. So you can first edit the name of the function, then the variables and finally the code inside the function (try by yourself!).</p>
<p>There are many code snippets by default in RStudio. Here are the code snippets I use most often:</p>
<ul>
<li><code>lib</code> to call <code>library()</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(package)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>mat</code> to create a matrix</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(data, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>if</code>, <code>el</code>, and <code>ei</code> to create conditional expressions such as <code>if() {}</code>, <code>else {}</code> and <code>else if () {}</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (condition) {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> {</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> <span class="cf">if</span> (condition) {</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>fun</code> to create a function</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="cf">function</span>(variables) {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>for</code> to create for loops</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (variable <span class="cf">in</span> vector) {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>ts</code> to insert a comment with the current date and time (useful if you have very long code and share it with others so they see when it has been edited)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tue Jan 21 20:20:14 2020 ------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can see all default code snippets and add yours by clicking on Tools &gt; Global Options‚Ä¶ &gt; Code (left sidebar) &gt; Edit Snippets‚Ä¶</p>
</section>
<section id="ordered-list-in-r-markdown" class="level3" data-number="2.8.5">
<h3 data-number="2.8.5" class="anchored" data-anchor-id="ordered-list-in-r-markdown"><span class="header-section-number">2.8.5</span> Ordered list in R Markdown</h3>
<p>In R Markdown, when creating an ordered list such as this one:</p>
<ol type="1">
<li>Item 1</li>
<li>Item 2</li>
<li>Item 3</li>
</ol>
<p>Instead of bothering with the numbers and typing</p>
<pre><code>1. Item 1
2. Item 2
3. Item 3</code></pre>
<p>you can simply type</p>
<pre><code>1. Item 1
1. Item 2
1. Item 3</code></pre>
<p>for the exact same result (try it yourself or check the code of this article!). This way you do not need to bother which number is next when creating a new item.</p>
<p>To go even further, any numeric will actually render the same result as long as the first item is the number you want to start from. For example, you could type:</p>
<pre><code>1. Item 1
7. Item 2
3. Item 3</code></pre>
<p>which renders</p>
<ol type="1">
<li>Item 1</li>
<li>Item 2</li>
<li>Item 3</li>
</ol>
<p>However, I suggest always using the number you want to start from for all items because if you move one item at the top, the list will start with this new number. For instance, if we move <code>7. Item 2</code> from the previous list at the top, the list becomes:</p>
<pre><code>7. Item 2
1. Item 1
3. Item 3</code></pre>
<p>which incorrectly renders</p>
<ol start="7" type="1">
<li>Item 2</li>
<li>Item 1</li>
<li>Item 3</li>
</ol>
</section>
<section id="new-code-chunk-in-r-markdown" class="level3" data-number="2.8.6">
<h3 data-number="2.8.6" class="anchored" data-anchor-id="new-code-chunk-in-r-markdown"><span class="header-section-number">2.8.6</span> New code chunk in R Markdown</h3>
<p>When editing R Markdown documents, you will need to insert a new R code chunk many times. The following shortcuts will make your life easier:</p>
<pre><code>command + option + I on Mac (or command + alt + I depending on your keyboard)
Ctrl + ALT + I on Windows</code></pre>
</section>
<section id="reformat-code" class="level3" data-number="2.8.7">
<h3 data-number="2.8.7" class="anchored" data-anchor-id="reformat-code"><span class="header-section-number">2.8.7</span> Reformat code</h3>
<p>A clear and readable code is always easier and faster to read (and look more professional when sharing it to collaborators). To automatically apply the most common coding guidelines such as white spaces, indents, etc., use:</p>
<pre><code>cmd + Shift + A on Mac
Ctrl + Shift + A on Windows</code></pre>
<p>So for example the following code which does not respect the guidelines (and which is not easy to read):</p>
<pre><code>1+1
  for(i in 1:10){if(!i%%2){next}
print(i)
 }</code></pre>
<p>becomes much more neat and readable:</p>
<pre><code>1 + 1
for (i in 1:10) {
  if (!i %% 2) {
    next
  }
  print(i)
}</code></pre>
</section>
<section id="rstudio-addins" class="level3" data-number="2.8.8">
<h3 data-number="2.8.8" class="anchored" data-anchor-id="rstudio-addins"><span class="header-section-number">2.8.8</span> RStudio addins</h3>
<p>RStudio addins are extensions which provide a simple mechanism for executing advanced R functions from within RStudio. In simpler words, when executing an addin (by clicking a button in the Addins menu), the corresponding code is executed without you having to write the code. RStudio addins have the advantage that they allow you to execute complex and advanced code much more easily than if you would have to write it yourself.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>For more information about RStudio addins, check out</strong>:</p>
<ul>
<li><a href="https://rstudio.github.io/rstudioaddins" class="uri">https://rstudio.github.io/rstudioaddins</a></li>
<li><a href="https://statsandr.com/blog/tips-and-tricks-in-rstudio-and-r-markdown" class="uri">https://statsandr.com/blog/tips-and-tricks-in-rstudio-and-r-markdown</a></li>
</ul>
</div>
</div>
</section>
<section id="others" class="level3" data-number="2.8.9">
<h3 data-number="2.8.9" class="anchored" data-anchor-id="others"><span class="header-section-number">2.8.9</span> Others</h3>
<p>Similar to many other programs, you can also use:</p>
<ul>
<li><code>command + Shift + N</code> on Mac and <code>Ctrl + Shift + N</code> on Windows to open a new R Script</li>
<li><code>command + S</code> on Mac and <code>Ctrl + S</code> on Windows to save your current script or R Markdown document</li>
</ul>
<p>Check out Tools ‚Äì&gt; Keyboard Shortcuts Help to see a long list of these shortcuts.</p>
</section>
</section>
<section id="session-info" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="session-info"><span class="header-section-number">2.9</span> Session Info</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.1 (2023-06-16)
Platform: aarch64-apple-darwin20 (64-bit)
Running under: macOS Sonoma 14.0

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: America/New_York
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
 [1] vctrs_0.6.4       cli_3.6.1         knitr_1.44        rlang_1.1.1      
 [5] xfun_0.40         emojifont_0.5.5   showtextdb_3.0    sysfonts_0.8.8   
 [9] generics_0.1.3    proto_1.0.0       jsonlite_1.8.7    glue_1.6.2       
[13] colorspace_2.1-0  htmltools_0.5.6.1 scales_1.2.1      fansi_1.0.5      
[17] rmarkdown_2.25    grid_4.3.1        evaluate_0.22     munsell_0.5.0    
[21] tibble_3.2.1      fastmap_1.1.1     yaml_2.3.7        lifecycle_1.0.3  
[25] compiler_4.3.1    dplyr_1.1.3       pkgconfig_2.0.3   htmlwidgets_1.6.2
[29] rstudioapi_0.15.0 digest_0.6.33     R6_2.5.1          tidyselect_1.2.0 
[33] utf8_1.2.4        showtext_0.9-6    pillar_1.9.0      magrittr_2.0.3   
[37] tools_4.3.1       gtable_0.3.4      ggplot2_3.4.4    </code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./exercises-01.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Group work</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./exercises-02.html" class="pagination-link">
        <span class="nav-page-text">Group work</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>